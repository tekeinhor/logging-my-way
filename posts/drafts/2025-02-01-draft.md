---
title: Ideas
desc: |
    ideas
tags:
  - draft
---

## Prerequisites

- Code your API (in our case it was created using python FastAPI)
- Create your API Dockerfile
- Code your UI (in our case it was created using python Streamlit)
- Create your UI Dockerfile
- Build your docker images and push them to ECR

If you want to follow the tutorial to create the UI and its dockerfile, please head to the following articles: [Create a UI with streamlit and dockerize it](#) and [Create a API in python with FastAPI and dockerize it](#). I also suggest this article about [How to build your docker image push it to an image repository like ECR](#).

## ECR Resources creation with Terraform
![Deployment architecture in ECS fargate](./assets/ecs_archi_.svg){image-display}

### Checklist of the elements we need to consider
Create a [Virtual Private Cloud](https://docs.aws.amazon.com/vpc/latest/userguide/what-is-amazon-vpc.html) (Amazon VPC)

- [x] Create your cluster
- [x] Create two ECS services (one for the UI, one for the API)
    - [x] For each service, create a task definition and roles needed to function correctly
- [x] Create a [Load Balancer](https://docs.aws.amazon.com/elasticloadbalancing/latest/userguide/what-is-load-balancing.html) to route the traffic to your services
- [x] Create two [Security Groups](https://docs.aws.amazon.com/vpc/latest/userguide/vpc-security-groups.html)
    - [x] One for the cluster
    - [x] One for the Load Balancer
- [x] Use [Service Connect](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/service-connect.html) to allow a service-to-service communication (for the UI to interact with the API)



## Results

```bash
load-balancer-dev-767093378.eu-west-3.elb.amazonaws.com:8501
```